<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="./css/main.css">

</head>
<body onload="loadList()">
<ul>
    <li><a href="#" onclick="home()">Home</a></li>
    <li><a href="#" onclick="rental()" class="selected">Register</a></li>
    <li><a href="#" onclick="klanten()">Klanten</a></li>
    <li><a href="#" onclick="cars()">Auto's</a></li>
    <li style="float:right"><a class="active" onclick="logout()" href="#">Logout</a></li>
</ul>
<div class="w3-container w3-half w3-margin-top">

    <p>
        <input id="id" class="w3-input" type="hidden" style="width:90%">
    </p>

    <p>
        <label>Select a Car (Prijs per Dag)</label>
<!--        <div id="car"></div>-->
        <select id="selectCar" class="w3-select" style="width:90%">

        </select>
    </p>
    <p>
        <label>Select the Customer</label>
<!--        <div id="customer"></div>-->
        <select id="selectCustomer" class="w3-select" style="width:90%">

        </select>
    </p>
    <p>
        <label>Start Date</label>
        <input id="start_date" class="w3-input" type="date" style="width:90%" required>
    </p>
    <p>
        <label>End Date</label>
        <input id="end_date" class="w3-input" type="date" style="width:90%" required>
    </p>
    <label>Requisites</label>
    <!--        <div id="customer"></div>-->
    <select id="optional" class="w3-select" style="width:90%" >

    </select>
    <p>
        <label>Total (SRD)</label>
        <input id="total" class="w3-input" type="number" style="width:90%" readonly>
    </p>
    <p>
        <button id="submitButton" onclick="updateOrCreate()" class="w3-button w3-section w3-teal w3-ripple">Register</button></p>

</div>

<div id="klanten" class="w3-container">

</div>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="js/nav.js"></script>
<script src="js/rental.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $('#selectCar').on('change', function () {
        let price = $(this).find(':selected').data('price');
        console.log(price)
    });

    $('#end_date').on('change', function () {
        let start_date =$('#start_date').val()
        let end_date =$(this).val();
        const date1 = new Date(start_date);
        const date2 = new Date(end_date);
        const diffTime = Math.abs(date2 - date1);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))
        let price = $('#selectCar').find(':selected').data('price');
        let optional = $('#optional').find(':selected').data('price');
        $('#total').val((diffDays*price)+optional);
    });
</script>


</body>
</html>